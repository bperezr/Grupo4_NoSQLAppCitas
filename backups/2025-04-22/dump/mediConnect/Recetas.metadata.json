{"options":{"validator":{"$jsonSchema":{"bsonType":"object","required":["pacienteId","doctorId","sucursalId","estado","medicamentos","fechaCreacion"],"properties":{"pacienteId":{"bsonType":"objectId","description":"Referencia al ID del paciente es obligatoria."},"doctorId":{"bsonType":"objectId","description":"Referencia al ID del doctor es obligatoria."},"sucursalId":{"bsonType":"objectId","description":"Referencia al ID de la sucursal de entrega es obligatoria."},"fechaEntrega":{"bsonType":"date","description":"La fecha de entrega de la receta es obligatoria."},"estado":{"bsonType":"string","enum":["Pendiente","Entregado","Cancelado"],"description":"El estado debe ser uno de: Pendiente, Entregado, Cancelado."},"medicamentos":{"bsonType":"array","description":"Arreglo de medicamentos asociados a la receta.","items":{"bsonType":"object","required":["medicamentoId","cantidad"],"properties":{"medicamentoId":{"bsonType":"objectId","description":"Referencia al medicamento."},"cantidad":{"bsonType":"int","minimum":{"$numberInt":"1"},"description":"La cantidad debe ser un entero mayor o igual a 1."}}}},"notas":{"bsonType":"string","description":"Campo opcional para observaciones adicionales del doctor."},"notaFarmaceutico":{"bsonType":"string","description":"Campo opcional para observaciones del farmacéutico."},"fechaCreacion":{"bsonType":"date","description":"Fecha en la que se creó la receta."}}}},"validationLevel":"strict","validationAction":"error"},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_"},{"v":{"$numberInt":"2"},"key":{"sucursalId":{"$numberInt":"1"}},"name":"sucursalId_1"},{"v":{"$numberInt":"2"},"key":{"doctorId":{"$numberInt":"1"}},"name":"doctorId_1"},{"v":{"$numberInt":"2"},"key":{"pacienteId":{"$numberInt":"1"}},"name":"pacienteId_1"},{"v":{"$numberInt":"2"},"key":{"sucursalId":{"$numberInt":"1"},"estado":{"$numberInt":"1"}},"name":"sucursalId_1_estado_1"}],"uuid":"0c16450a48474f4e8979842964ab79f6","collectionName":"Recetas","type":"collection"}