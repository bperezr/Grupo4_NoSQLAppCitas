{
  $jsonSchema: {
    bsonType: 'object',
    required: [
      'citaId',
      'pacienteId',
      'estado',
      'pago'
    ],
    properties: {
      citaId: {
        bsonType: 'objectId',
        description: 'Referencia a la cita'
      },
      pacienteId: {
        bsonType: 'objectId',
        description: 'Referencia al paciente asociado a esta cita'
      },
      estado: {
        bsonType: 'string',
        'enum': [
          'pendiente',
          'confirmado',
          'atendido',
          'cancelada'
        ],
        description: 'Estado de la cita en este historial'
      },
      pago: {
        bsonType: 'string',
        'enum': [
          'pendiente',
          'pagado'
        ],
        description: 'Estado del pago'
      }
    }
  }
}